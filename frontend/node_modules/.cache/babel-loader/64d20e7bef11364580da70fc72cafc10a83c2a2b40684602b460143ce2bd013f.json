{"ast":null,"code":"var _jsxFileName = \"/Users/shuhang/Desktop/USC homework/DSCI551/movie-review-website/src/components/UserManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport moviesData from './movies.json';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserManager() {\n  _s();\n  const [movies, setMovies] = useState(moviesData);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [commentText, setCommentText] = useState('');\n  const [userName, setUserName] = useState('');\n  const [selectedMovieId, setSelectedMovieId] = useState(null); // State to track the selected movie ID\n\n  const filteredMovies = movies.filter(movie => movie.name.toLowerCase().includes(searchQuery.toLowerCase()));\n  const addComment = movieId => {\n    const updatedMovies = movies.map(movie => {\n      if (movie.id === movieId) {\n        const newCommentId = movie.comments.length > 0 ? Math.max(...movie.comments.map(c => c.id)) + 1 : 1;\n        const updatedMovie = {\n          ...movie,\n          comments: [...movie.comments, {\n            id: newCommentId,\n            text: commentText,\n            user: userName\n          }]\n        };\n        return updatedMovie;\n      }\n      return movie;\n    });\n    setMovies(updatedMovies);\n    setCommentText('');\n    setUserName('');\n    // Keep the selected movie selected after adding a comment\n  };\n  const toggleSelectMovie = movieId => {\n    setSelectedMovieId(selectedMovieId === movieId ? null : movieId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search for a movie\",\n      value: searchQuery,\n      onChange: e => setSearchQuery(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), filteredMovies.length > 0 && filteredMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '10px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        onClick: () => toggleSelectMovie(movie.id),\n        style: {\n          cursor: 'pointer',\n          color: selectedMovieId === movie.id ? 'blue' : 'black'\n        },\n        children: movie.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), selectedMovieId === movie.id && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: movie.comments.map(comment => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [comment.text, \" - \", comment.user]\n          }, comment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: userName,\n          onChange: e => setUserName(e.target.value),\n          placeholder: \"Your name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: commentText,\n          onChange: e => setCommentText(e.target.value),\n          placeholder: \"Leave a comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addComment(movie.id),\n          children: \"Add Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)]\n    }, movie.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(UserManager, \"vksq7HCnljklkMuMPsRz7YCiUYE=\");\n_c = UserManager;\nexport default UserManager;\nvar _c;\n$RefreshReg$(_c, \"UserManager\");","map":{"version":3,"names":["React","useState","moviesData","jsxDEV","_jsxDEV","Fragment","_Fragment","UserManager","_s","movies","setMovies","searchQuery","setSearchQuery","commentText","setCommentText","userName","setUserName","selectedMovieId","setSelectedMovieId","filteredMovies","filter","movie","name","toLowerCase","includes","addComment","movieId","updatedMovies","map","id","newCommentId","comments","length","Math","max","c","updatedMovie","text","user","toggleSelectMovie","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","style","margin","onClick","cursor","color","comment","_c","$RefreshReg$"],"sources":["/Users/shuhang/Desktop/USC homework/DSCI551/movie-review-website/src/components/UserManager.js"],"sourcesContent":["import React, { useState } from 'react';\nimport moviesData from './movies.json';\n\nfunction UserManager() {\n  const [movies, setMovies] = useState(moviesData);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [commentText, setCommentText] = useState('');\n  const [userName, setUserName] = useState('');\n  const [selectedMovieId, setSelectedMovieId] = useState(null); // State to track the selected movie ID\n\n  const filteredMovies = movies.filter(movie =>\n    movie.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const addComment = (movieId) => {\n    const updatedMovies = movies.map(movie => {\n      if (movie.id === movieId) {\n        const newCommentId = movie.comments.length > 0 ? Math.max(...movie.comments.map(c => c.id)) + 1 : 1;\n        const updatedMovie = {\n          ...movie,\n          comments: [...movie.comments, { id: newCommentId, text: commentText, user: userName }]\n        };\n        return updatedMovie;\n      }\n      return movie;\n    });\n    setMovies(updatedMovies);\n    setCommentText('');\n    setUserName('');\n    // Keep the selected movie selected after adding a comment\n  };\n\n  const toggleSelectMovie = (movieId) => {\n    setSelectedMovieId(selectedMovieId === movieId ? null : movieId);\n  };\n\n  return (\n    <div>\n      <h2>User Manager</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search for a movie\"\n        value={searchQuery}\n        onChange={(e) => setSearchQuery(e.target.value)}\n      />\n      {filteredMovies.length > 0 && (\n        filteredMovies.map(movie => (\n          <div key={movie.id} style={{ margin: '10px 0' }}>\n            <h3\n              onClick={() => toggleSelectMovie(movie.id)}\n              style={{ cursor: 'pointer', color: selectedMovieId === movie.id ? 'blue' : 'black' }}\n            >\n              {movie.name}\n            </h3>\n            {selectedMovieId === movie.id && (\n              <>\n                <ul>\n                  {movie.comments.map(comment => (\n                    <li key={comment.id}>{comment.text} - {comment.user}</li>\n                  ))}\n                </ul>\n                <input\n                  type=\"text\"\n                  value={userName}\n                  onChange={(e) => setUserName(e.target.value)}\n                  placeholder=\"Your name\"\n                />\n                <input\n                  type=\"text\"\n                  value={commentText}\n                  onChange={(e) => setCommentText(e.target.value)}\n                  placeholder=\"Leave a comment\"\n                />\n                <button onClick={() => addComment(movie.id)}>Add Comment</button>\n              </>\n            )}\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n\nexport default UserManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}